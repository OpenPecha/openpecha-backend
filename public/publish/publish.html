<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Publish pecha interface" />
    <link rel="shortcut icon" href="../assets/favicon.ico" type="image/x-icon">
    <title>Publish Pecha</title>
    <link rel="stylesheet" href="./publish.css" />
    <link rel="stylesheet" href="../toast_style.css" />
    <link rel="stylesheet" href="../select.css" />
    <link rel="stylesheet" href="../navbar.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
</head>

<body>
    <nav class="navbar">
      <div class="nav-container">
        <a href="/" class="nav-logo">
          <img src="../assets/logo.svg" alt="OpenPecha Logo" />
          <span>OpenPecha</span>
        </a>
        <div class="nav-links">
          <a href="/create/create" class="nav-link">Create</a>
          <a href="/publish/publish" class="nav-link active">Publish</a>
          <a href="/update/" class="nav-link">Update</a>
          <a href="/category/" class="nav-link">Category</a>
          <a href="/annotation/" class="nav-link">Annotation</a>
        </div>
      </div>
    </nav>
    <div id="toastContainer" role="alert" aria-live="polite"></div>
    <main>
        <form id="publishForm" novalidate>
            <div class="form-group">
                <label for="pecha">Select Pecha</label>
                <div class="select-wrapper">
                    <div id="pechaOptionsContainer" class="select-search-container">
                      <select id="pecha" name="pecha">
                        <option value="">Select pecha</option>
                      </select>
                      <div class="search-overlay">
                        <input
                          type="text"
                          class="search-input"
                          placeholder="Search pechas..."
                        />
                        <div class="search-results"></div>
                      </div>
                    </div>
                    <!-- Loading spinner for pecha dropdown -->
                    <div id="pechaLoadingSpinner" class="loading-spinner">
                      <i class="fas fa-spinner fa-spin"></i> Loading pechas...
                    </div>
                  </div>
            </div>
            
            <!-- Annotation Alignment field -->
            <div class="form-group" id="annotationAlignmentGroup">
                <label for="annotationAlignment">Annotation Alignment</label>
                <div class="select-wrapper">
                    <div id="annotationAlignmentContainer" class="select-search-container">
                      <select id="annotationAlignment" name="annotationAlignment">
                        <option value="">Select annotation alignment</option>
                      </select>
                      <div class="search-overlay">
                        <input
                          type="text"
                          class="search-input"
                          placeholder="Search annotations..."
                        />
                        <div class="search-results"></div>
                      </div>
                    </div>
                    <!-- Loading spinner for annotation dropdown -->
                    <div id="annotationLoadingSpinner" class="loading-spinner">
                      <i class="fas fa-spinner fa-spin"></i> Loading annotations...
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <div class="publish_to-container">
                <label for="publish_to">Publish to</label>
                <div class="radio-group">
                    <label for="pechaOrg">
                        <input type="radio" id="pechaOrg" name="publish_to" value="pecha" checked>
                        Pecha.org
                    </label>
                    <label for="fodianOrg">
                        <input type="radio" id="fodianOrg" name="publish_to" value="fodian">
                        Fodian.org
                    </label>
                </div>
                </div>
                <!-- <div class="reserialize-container">
                <label for="reserialize">Reserialize</label>
                <div class="radio-group">
                    <label for="reserializeYes">
                        <input type="radio" id="reserializeYes" name="reserialize" value="true" checked>
                        Yes
                    </label>
                    <label for="reserializeNo">
                        <input type="radio" id="reserializeNo" name="reserialize" value="false">
                        No
                    </label>
                </div>
                </div> -->
                </div>
            <button type="submit" class="publish-button" id="publishButton">
                Publish
            </button>
        </form>
        <div class="metadata-container">

        </div>
    </main>

    <!-- Scripts -->
    <script src="./publish.js"></script>
    <script src="../config.js"></script>
</body>
</html>