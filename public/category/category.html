<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Update pecha interface" />
    <title>Update Pecha</title>
    <link rel="stylesheet" href="./category.css" />
    <link rel="stylesheet" href="../toast_style.css"/>
    <link rel="stylesheet" href="../custom/select/select.css"/>
</head>
<body>
    <div id="toastContainer" role="alert" aria-live="polite"></div>
    <main>
        <form id="publishForm" novalidate>
            <div class="form-group">
                <label for="pechaOptions">Select a pecha</label>
                <div id="pechaOptionsContainer">
                    <select id="pechaOptions" required>
                        <option value="">Select pecha</option>
                    </select>
                </div>
            </div>
        </form>
        <div class="metadata-container">
            <div class="metadata-header">
                <h2>Metadata</h2>
                <span class="toggle-icon">â–¼</span>
            </div>
            <div class="metadata-content">
                <!-- Content will be dynamically inserted here -->
            </div>
        </div>

        <!-- Category Tree Structure -->
        <div class="tree-container">
            <div class="tree-header">
                <button id="addCategory" class="btn btn-primary">Add Category</button>
                <button id="languageToggle" class="btn btn-secondary">
                    Language: <span class="lang-text">EN</span>
                </button>
            </div>
            <div id="categoryTree"></div>
        </div>

        <!-- Category Modal -->
        <div id="categoryModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Add New Category</h2>
                </div>
                <div class="modal-body">
                    <form id="categoryForm">
                        <div class="form-field">
                            <label for="titleBo">Title (BO)*</label>
                            <input type="text" id="titleBo" required>
                        </div>
                        <div class="form-field">
                            <label for="titleEn">Title (EN)*</label>
                            <input type="text" id="titleEn" required>
                        </div>
                        <div class="form-field">
                            <label for="descBo">Description (BO)</label>
                            <textarea id="descBo"></textarea>
                        </div>
                        <div class="form-field">
                            <label for="descEn">Description (EN)</label>
                            <textarea id="descEn" disabled></textarea>
                        </div>
                        <div class="form-field">
                            <label for="shortdescBo">Short Description (BO)</label>
                            <textarea id="shortdescBo"></textarea>
                        </div>
                        <div class="form-field">
                            <label for="shortDescEn">Short Description (EN)</label>
                            <textarea id="shortDescEn" disabled></textarea>
                        </div>
                        <div class="modal-footer">
                            <button type="button" id="cancelCategory" class="btn btn-secondary">Cancel</button>
                            <button type="submit" class="btn btn-primary">Add Category</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="./category_new.js"></script>
        <script src="../custom/select/index.js"></script>
        <script src="../google_drive.js"></script>
        <script 
            src="https://apis.google.com/js/api.js"
            onload="gapiLoaded()"
            async 
            defer
        ></script>
        <script 
            src="https://accounts.google.com/gsi/client"
            onload="gisLoaded()"
            async 
            defer
        ></script>
    </main>
</body>
</html>
